identidock:  # Указываем имя создаваемого контейнера. В одном файле может быть несколько контейнеров, также называемых "сервисами".
  build: .  # Путь к Dockerfile
  ports:  # Ключ аналогичен аргументу -p в команде docker run. Объявляем открытые порты
    - "9090:9090"
    - "9191:9191"
  environment:  # Ключ аналогичен аргументу -e в команде docker run и нужен для определения значений переменных среды в контейнере.
    ENV: PROD
  volumes: # Ключ аналогичен аргументу -v в команде docker run и служит для определения томов.
    - ./app:/app
  links:  # Обявляем установление соединения с другим контейнером. ИЗ текущего контейнера. Правильный порядок запуска обеспечивается docker-compose
    - dnmonster
    - redis

dnmonster:  # Определим ещё один контейнер
  image: amouat/dnmonster:1.0  # Можем указать тут образ

redis:
  image: redis:3.0
